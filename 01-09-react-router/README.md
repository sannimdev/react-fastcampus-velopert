# 리액트 라우터 (react-router)

## 라우팅

-   어떤 주소에 어떤 UI를 보여줄지 결정하는 것.
-   non-SPA와 SPA의 관리 방식에 차이가 있다.
    -   non-SPA
        -   옛날에는 라우팅에 관련된 작업을 서버에서 처리했다.
        -   경로에 따라 사용자가 서버측에 요청을 한다. 그에 따라 불필요한 트래픽이 유발될 수도 있음.
    -   SPA
        -   어떤 주소에서 어떤 페이지를 보여줄지를 Client단에서 결정한다. (∵ 이미 묶음 파일을 받아왔으니까!)
        -   클라이언트가 웹 서버에 접속했을 때 UI에 관한 코드를 다 준비했으므로 필요한 데이터만 요청(Rest API wit Json)하므로 효율적으로 관리할 수 있다.

## 서브 라우팅

-   홈페이지 내에서 탭 기능을 구현할 떄 활용하면 편하다.

## 부가기능

### history 객체

-   Router에 직접 접근이 가능하다.
-   특정 함수를 호출하였을 때 특정 페이지로 이동하거나 혹은 뒤로가기, 혹은

### withRouter

-   라우터 컴포넌트가 아닌 곳에서 `match`, `location`, `history`의 객체를 사용할 수 있다.

### Switch

여러 라우트 중 하나만 보여줄 때 사용한다.

### NavLink

-   현재 주소와 일치한다면 스타일 바꾸기

## SPA의 단점

-   앱의 규모가 커지면 JS파일의 크기가 너무 커질 수 있다.
    -   Code Spliting을 이용하여 이 문제점을 해결한다. (react-loadable)
-   브라우저에서 자바스크립트가 구동되지 않으면 UI를 볼 수가 없다.
    -   브라우저에서 JS를 지원해야 한다는 의미이기도 하지만 검색엔진에서 크롤링을 할 수 없다는 의미이기도 하다.
    -   이는 SSR 기법을 이용하여 해결한다.

## 리액트 라우터

-   리액트 라우터는 컴포넌트를 기반으로 라우팅을 한다.
    -   Next.js의 경우에는 SSR을 쉽게 구현할 수 있고 파일 경로와 이름을 기반으로 라우팅을 한다는 데에 차이가 있다.

### 리액트 라우터에서 사용되는 주요 컴포넌트 살펴보기

-   <BrowserRouter>
    -   HTML5 History API를 사용하면 주소만 바꾸고 페이지를 다시 불러오지 않는다.
    - 주소만 바꾸고 페이지를 다시 불러오지는 않는다. (IE6~9는 미지원)
-   <HashRouter>
    - example/#/path/to/route
    - #를 사용한다. 옛날 브라우저에서도 작동한다.
-   <MemoryRouter>
    - 브라우저의 주소와는 관계없다. 일절 건드리지 않는다.
    - 임베디드 웹앱, 리액트 네이티브 등에서 사용한다.
    - 특정 페이지만 리액트로 구현할 경우에도 사용함.
-   <StaticRouter>
    -  서버 사이드 렌더링에서 사용한다.
-   <Route>
       -  라우트(경로)를 정의할 때 사용하는 컴포넌트이다.
-   <Link>
    -  <a>태그로 구성되어 있는데 사용한 Router의 주소를 바꾼다. (새로고침은 하지 않음)

# 기본적인 네트워크 용어

## 쿼리와 파라미터

-   용도가 확실히 정해진 것은 아니지만 분명히 미묘한 차이는 있다.

### URL Parameter

-   정해진 특정 데이터를 조회할 때 주로 사용한다.
-   /profiles/`velopert`

### Query

-   다양한 옵션을 이용하여 무언가를 요청(조회)할 때 사용한다.
-   /filter?type=`book`&sort_by=`date`
